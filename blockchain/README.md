# 区块链投票系统 - 企业级安全管理版

一个功能完整的区块链投票系统，集成了企业级安全管理功能，包括网络环境模拟、多维度安全机制、实时监控和威胁防护。

## 🚀 核心特性

### 基础区块链功能
- **完整的区块链实现**：包含区块、交易、挖矿、共识机制
- **DID身份认证系统**：基于W3C DID标准的去中心化身份管理
- **投票功能**：安全的区块链投票机制
- **跨域认证**：支持多域名身份验证

### 🛡️ 企业级安全管理功能

#### 1. 网络环境模拟
- **动态网络条件控制**：支持优秀、良好、正常、较差、糟糕五种网络状态
- **节点生命周期管理**：模拟节点接入、迁移、退出
- **网络分区模拟**：测试网络分割情况下的系统表现
- **DDoS攻击模拟**：可配置强度和持续时间的攻击测试
- **拜占庭节点模拟**：模拟恶意节点行为（静默、随机、对抗、自私）

#### 2. 多维度节点信任评估
- **信任度计算**：基于多个维度的综合信任评分
- **声誉管理**：长期行为记录和声誉积累
- **挖矿历史追踪**：记录节点挖矿参与情况
- **交易准确性评估**：统计有效/无效交易比例
- **在线时长监控**：节点可用性统计
- **证书管理能力**：评估节点证书处理能力
- **共识参与度**：衡量节点在共识过程中的活跃度
- **自动黑名单机制**：基于信任度的自动风险控制

#### 3. 高级认证机制
- **匿名认证**：基于零知识证明的匿名凭证系统
  - Schnorr签名算法
  - 承诺方案（Commitment Scheme）
  - 假名生成和管理
- **门限认证**：多方参与的门限签名认证
  - Shamir秘密共享
  - 门限签名聚合
  - 多方挑战验证
- **跨域认证**：支持多域名身份验证
- **证书管理**：完整的数字证书生命周期管理

#### 4. 群组安全通信
- **端到端加密**：AES256、ChaCha20等多种加密算法
- **密钥轮换**：定期自动更新通信密钥
- **前向安全性**：确保历史消息安全
- **群组类型支持**：投票群组、共识群组、交易群组、通用群组

#### 5. 软件完整性校验
- **组件完整性检查**：核心区块链模块、认证模块、网络模块
- **数据完整性验证**：区块链数据、配置文件、用户凭证
- **实时监控**：持续的完整性状态监控
- **异常告警**：发现完整性问题时的自动告警

#### 6. 实时安全监控
- **安全仪表板**：直观的安全状态可视化
- **实时日志系统**：多级别日志记录和过滤
- **威胁检测**：自动识别和响应安全威胁
- **性能监控**：网络延迟、丢包率、节点状态监控
- **安全评分**：综合安全状况评估

## 🎨 现代化前端界面

### 安全管理中心
- **响应式设计**：适配各种屏幕尺寸
- **直观的仪表板**：实时显示安全指标和网络状态
- **交互式图表**：使用Chart.js展示数据趋势
- **实时日志面板**：类似终端的日志显示界面
- **模块化导航**：清晰的功能分区和导航

### 功能模块
1. **安全总览**：系统整体安全状态和快速操作
2. **网络环境**：网络条件控制和节点管理
3. **节点信任**：信任度评估和节点操作
4. **认证管理**：匿名认证和门限认证配置
5. **安全通信**：群组通信和加密测试
6. **完整性检查**：软件和数据完整性校验
7. **实时日志**：系统事件监控和日志管理
8. **系统设置**：安全策略配置和系统维护

## 🛠️ 技术架构

### 后端技术栈
- **Spring Boot 2.7.x**：主框架
- **Spring Security**：安全框架
- **Spring Data JPA**：数据持久化
- **MySQL**：主数据库
- **WebSocket**：实时通信
- **Jackson**：JSON处理
- **Bouncy Castle**：密码学库

### 前端技术栈
- **HTML5 + CSS3**：现代Web标准
- **JavaScript ES6+**：现代JavaScript特性
- **Bootstrap 4**：响应式UI框架
- **Chart.js**：数据可视化
- **Font Awesome**：图标库
- **jQuery**：DOM操作和AJAX

### 安全技术
- **RSA-2048**：非对称加密
- **AES-256**：对称加密
- **SHA-256**：哈希算法
- **Schnorr签名**：零知识证明
- **Shamir秘密共享**：门限密码学
- **PBKDF2**：密钥派生

## 📦 快速开始

### 环境要求
- Java 8+
- MySQL 5.7+
- Maven 3.6+
- 现代浏览器（Chrome、Firefox、Safari、Edge）

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd blockchain-voting-system
```

2. **配置数据库**
```sql
CREATE DATABASE blockchain_voting;
CREATE USER 'blockchain'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON blockchain_voting.* TO 'blockchain'@'localhost';
```

3. **配置应用**
```properties
# src/main/resources/application.properties
spring.datasource.url=jdbc:mysql://localhost:3306/blockchain_voting
spring.datasource.username=blockchain
spring.datasource.password=password
```

4. **启动应用**
```bash
mvn spring-boot:run
```

5. **访问系统**
- 主页：http://localhost:8080
- 安全管理中心：http://localhost:8080/security-dashboard.html

## 🔧 使用指南

### 基础操作流程

1. **系统初始化**
   - 访问安全管理中心
   - 点击"初始化安全环境"
   - 系统自动创建初始节点和配置

2. **创建DID身份**
   - 进入区块链操作页面
   - 点击"创建新DID"
   - 系统生成密钥对并注册DID

3. **开始投票**
   - 创建选举活动
   - 配置候选人和投票规则
   - 邀请用户参与投票

### 安全功能使用

1. **网络环境测试**
   - 设置不同网络条件
   - 添加测试节点
   - 模拟网络攻击

2. **节点信任管理**
   - 注册新节点
   - 监控信任度变化
   - 管理黑名单

3. **认证系统配置**
   - 生成匿名凭证
   - 创建门限认证组
   - 测试认证流程

4. **安全通信设置**
   - 创建安全群组
   - 配置加密算法
   - 测试消息加密

## 📊 安全指标说明

### 网络健康度
- **节点在线率**：在线节点数 / 总节点数
- **网络延迟**：平均响应时间
- **丢包率**：网络传输质量
- **分区状态**：网络连通性
- **威胁级别**：当前安全威胁数量

### 信任评分算法
```
信任度 = (
    挖矿成功率 * 0.25 +
    交易准确率 * 0.25 +
    在线时长比例 * 0.20 +
    共识参与度 * 0.15 +
    证书管理能力 * 0.10 +
    历史声誉 * 0.05
)
```

### 安全等级划分
- **优秀** (90-100%)：系统安全，无需关注
- **良好** (80-89%)：系统稳定，偶尔监控
- **一般** (60-79%)：需要关注，定期检查
- **较差** (40-59%)：存在风险，需要处理
- **危险** (0-39%)：严重威胁，立即处理

## 🔐 安全最佳实践

### 密钥管理
- 定期轮换加密密钥（建议30天）
- 使用强随机数生成器
- 安全存储私钥（建议使用硬件安全模块）
- 实施密钥备份和恢复策略

### 网络安全
- 启用自动威胁响应
- 定期进行安全检查
- 监控异常网络活动
- 实施访问控制策略

### 节点管理
- 设置合理的信任度阈值（建议0.6）
- 及时处理低信任度节点
- 定期审查黑名单
- 监控节点行为模式

### 数据保护
- 启用数据加密传输
- 定期备份重要数据
- 实施数据完整性检查
- 配置访问日志记录

## 🚨 故障排除

### 常见问题

1. **无法连接数据库**
   - 检查数据库服务状态
   - 验证连接配置
   - 确认用户权限

2. **DID创建失败**
   - 检查密钥生成器
   - 验证网络连接
   - 查看错误日志

3. **安全检查异常**
   - 重启安全服务
   - 检查系统资源
   - 更新安全配置

4. **网络模拟无响应**
   - 检查模拟器状态
   - 验证节点配置
   - 重置网络环境

### 日志分析
- **INFO级别**：正常操作记录
- **WARNING级别**：需要关注的事件
- **ERROR级别**：系统错误和异常
- **SUCCESS级别**：操作成功确认

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目。

### 开发环境设置
1. Fork项目到个人仓库
2. 创建功能分支
3. 提交代码变更
4. 创建Pull Request

### 代码规范
- 遵循Java编码规范
- 添加适当的注释
- 编写单元测试
- 更新相关文档

## 📄 许可证

本项目采用MIT许可证，详情请查看LICENSE文件。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至项目维护者

---

**注意**：这是一个演示项目，用于学习和研究目的。在生产环境中使用前，请进行充分的安全审计和测试。
